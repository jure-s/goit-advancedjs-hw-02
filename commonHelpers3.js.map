{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  iziToast.settings({\n    closeOnClick: true,\n    position: 'topRight',\n    progressBar: false,\n    timeout: 5000,\n    transitionIn: 'bounceInUp',\n  });\n\n  const form = document.querySelector('.form');\n\n  form.addEventListener('submit', function(e) {\n    e.preventDefault();\n    \n    const fields = e.target.elements;\n    let delay = Number(fields.delay.value);\n    const step = Number(fields.step.value);\n    const amount = Number(fields.amount.value);\n\n    for (let i = 1; i <= amount; i++) {\n      getPromiseResult(i, delay);\n      delay += step;\n    }\n\n    form.reset();\n  });\n\n   function createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        shouldResolve ? resolve({ position, delay }) : reject({ position, delay });\n      }, delay);\n    });\n  }\n\n  function getPromiseResult(num, step) {\n    createPromise(num, step)\n      .then(({ position, delay }) => {\n        iziToast.success({\n          title: 'Resolved',\n          message: `Fulfilled promise ${position} in ${delay}ms`,\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.error({\n          title: 'Rejected',\n          message: `Rejected promise ${position} in ${delay}ms`,\n        });\n      });\n  }\n});"],"names":["iziToast","form","e","fields","delay","step","amount","i","getPromiseResult","createPromise","position","shouldResolve","resolve","reject","num"],"mappings":"mIAGA,SAAS,iBAAiB,mBAAoB,UAAW,CACvDA,EAAS,SAAS,CAChB,aAAc,GACd,SAAU,WACV,YAAa,GACb,QAAS,IACT,aAAc,YAClB,CAAG,EAED,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,SAASC,EAAG,CAC1CA,EAAE,eAAc,EAEhB,MAAMC,EAASD,EAAE,OAAO,SACxB,IAAIE,EAAQ,OAAOD,EAAO,MAAM,KAAK,EACrC,MAAME,EAAO,OAAOF,EAAO,KAAK,KAAK,EAC/BG,EAAS,OAAOH,EAAO,OAAO,KAAK,EAEzC,QAASI,EAAI,EAAGA,GAAKD,EAAQC,IAC3BC,EAAiBD,EAAGH,CAAK,EACzBA,GAASC,EAGXJ,EAAK,MAAK,CACd,CAAG,EAEA,SAASQ,EAAcC,EAAUN,EAAO,CACvC,MAAMO,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACfF,EAAgBC,EAAQ,CAAE,SAAAF,EAAU,MAAAN,CAAK,CAAE,EAAIS,EAAO,CAAE,SAAAH,EAAU,MAAAN,CAAK,CAAE,CAC1E,EAAEA,CAAK,CACd,CAAK,CACF,CAED,SAASI,EAAiBM,EAAKT,EAAM,CACnCI,EAAcK,EAAKT,CAAI,EACpB,KAAK,CAAC,CAAE,SAAAK,EAAU,MAAAN,KAAY,CAC7BJ,EAAS,QAAQ,CACf,MAAO,WACP,QAAS,qBAAqBU,CAAQ,OAAON,CAAK,IAC5D,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAM,EAAU,MAAAN,KAAY,CAC9BJ,EAAS,MAAM,CACb,MAAO,WACP,QAAS,oBAAoBU,CAAQ,OAAON,CAAK,IAC3D,CAAS,CACT,CAAO,CACJ,CACH,CAAC"}